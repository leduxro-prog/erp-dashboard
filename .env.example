# ============================================
# CYPHER ERP â€” Environment Configuration
# ============================================
# Copy this file to .env and fill in values

# --- Application ---
NODE_ENV=development
PORT=3000
API_PREFIX=/api/v1
APP_NAME=CYPHER ERP
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000
PUBLIC_BASE_URL=http://localhost:3000
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false

# Production override example:
# APP_URL=https://api.ledux.ro
# FRONTEND_URL=https://ledux.ro
# PUBLIC_BASE_URL=https://api.ledux.ro
# COOKIE_DOMAIN=.ledux.ro
# COOKIE_SECURE=true

# --- Database (PostgreSQL) ---
DB_HOST=localhost
DB_PORT=5432
DB_NAME=cypher_erp
DB_USER=cypher_user
DB_PASSWORD=cypher_secret_change_me
DB_SSL=false
DB_LOGGING=true

# --- Redis ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# --- MeiliSearch (Search Engine) ---
MEILISEARCH_HOST=http://localhost:7700
MEILI_MASTER_KEY=masterKey

# --- JWT Authentication ---
JWT_SECRET=your_jwt_secret_change_me_in_production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_refresh_secret_change_me
JWT_REFRESH_EXPIRES_IN=7d
# B2B specific JWT configuration
JWT_SECRET_B2B=your_b2b_jwt_secret_change_me
JWT_REFRESH_SECRET_B2B=your_b2b_refresh_secret_change_me
JWT_B2B_EXPIRES_IN=15m
JWT_B2B_REFRESH_EXPIRES_IN=7d

# --- SmartBill API ---
SMARTBILL_API_URL=https://ws.smartbill.ro/SMBWS/api
SMARTBILL_USERNAME=
SMARTBILL_TOKEN=
SMARTBILL_COMPANY_VAT=
SMARTBILL_INVOICE_SERIES=FL
SMARTBILL_SYNC_INTERVAL_MS=900000

# --- WooCommerce API ---
WOOCOMMERCE_URL=https://ledux.ro
WOOCOMMERCE_CONSUMER_KEY=
WOOCOMMERCE_CONSUMER_SECRET=
WOOCOMMERCE_VERSION=wc/v3

# --- WhatsApp Business (Agent B) ---
WHATSAPP_API_URL=
WHATSAPP_API_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=

# --- Email (SendGrid) ---
SENDGRID_API_KEY=
EMAIL_FROM=noreply@ledux.ro
EMAIL_FROM_NAME=Ledux.ro

# --- Supplier Scraping ---
SUPPLIER_SYNC_INTERVAL_MS=14400000
SUPPLIER_SCRAPE_TIMEOUT_MS=30000
SUPPLIER_SCRAPE_MAX_RETRIES=3

# --- Logging ---
LOG_LEVEL=debug
LOG_FORMAT=combined

# --- Rate Limiting ---
RATE_LIMIT_WINDOW_MS=3600000
RATE_LIMIT_MAX_REQUESTS=1000

# --- CORS ---
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true

# Production CORS example:
# CORS_ORIGINS=https://ledux.ro,https://www.ledux.ro,https://erp.ledux.ro,https://api.ledux.ro

# --- Docker & Container Orchestration ---
DOCKER_REGISTRY=your-registry.azurecr.io
DOCKER_IMAGE_NAME=cypher-erp
DOCKER_IMAGE_TAG=latest
CONTAINER_PORT=3000

# --- PgAdmin (Optional Database Management) ---
PGADMIN_EMAIL=admin@ledux.ro
PGADMIN_PASSWORD=pgadmin_password_change_me

# --- CI/CD Configuration ---
CI_REGISTRY_USER=
CI_REGISTRY_PASSWORD=
GITHUB_TOKEN=
AWS_ACCOUNT_ID=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=eu-central-1

# --- Slack Notifications ---
SLACK_WEBHOOK=
SLACK_CHANNEL=#deployments

# --- Monitoring & Logging ---
SENTRY_DSN=
DATADOG_API_KEY=
NEWRELIC_LICENSE_KEY=

# --- Feature Flags ---
FEATURE_ADVANCED_REPORTING=true
FEATURE_AI_RECOMMENDATIONS=false
FEATURE_MULTI_CURRENCY=true
